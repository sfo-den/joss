<div class="container">
  <p id="notice"><%= notice %></p>
  <div class="col-7">
    <div class="hero-small dashboard">
      <div class="hero-title">
        <%= image_tag "icon_papers.svg", height: "32px" %><h1>Active Editors</h1>
      </div>
    </div>
  </div>
  <table class="dashboard-table">
    <thead>
      <tr>
        <th scope="col" width="15%">Name</th>
        <th scope="col" width="15%">Login</th>
        <th scope="col">Categories</th>
        <th scope="col"  width="15%" title="Papers assigned (+ paused)">Paper load</th>
        <th scope="col">Availability</th>
        <th scope="col">Type</th>
        <th scope="col" colspan="2" width="10%"></th>
      </tr>
    </thead>

    <tbody>
      <%- Editor.active.order('last_name ASC').each do |editor| %>
      <tr>
        <td>
          <%= link_to editor.full_name, editor, title: editor.description.html_safe %>
          <%= "(new)" if editor.created_at > 2.months.ago %>
        </td>
        <td sorttable_customkey=<%= editor.login.downcase %>>
          <%= link_to image_tag(avatar(editor.login), size: "24x24", class: "avatar", title: github_user_link(editor.login)), github_user_link(editor.login), target: "_blank" %>
          <%= editor.login %>
          <% if editor.retired? %><em>(emeritus)</em><% end %>
        </td>
        <td style="max-width:300px"><%= editor.category_list %></td>
        <td><%= link_to in_progress_for_editor(Paper.in_progress.where(editor: editor)), "/dashboard/#{editor.login}" %></td>
        <td><strong><%= editor.availability.try(:capitalize) %></strong> <%= editor.availability_comment %></td>
        <td><%= editor.kind %></td>
        <td><%= link_to 'Edit', edit_editor_path(editor) %></td>
        <td><%= link_to 'Destroy', editor, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
      <%- end %>
    </tbody>
  </table>
</div>

<br />
<br />

<div class="container">
  <div class="col-7">
    <div class="hero-small dashboard">
      <div class="hero-title">
        <%= image_tag "icon_papers.svg", height: "32px" %><h1>Editors Emeritus</h1>
      </div>
    </div>
  </div>

  <table class="dashboard-table">
    <thead>
      <tr>
        <th scope="col" width="15%">Name</th>
        <th scope="col" width="15%">Login</th>
        <th scope="col">Categories</th>
        <th scope="col" width="20%">Description</th>
        <th scope="col">Type</th>
        <th scope="col" colspan="3" width="20%"></th>
      </tr>
    </thead>

    <tbody>
      <%- Editor.emeritus.order('last_name ASC').each do |editor| %>
      <tr>
        <td><%= editor.full_name %></td>
        <td sorttable_customkey=<%= editor.login.downcase %>><%= image_tag(avatar(editor.login), size: "24x24", class: "avatar", title: editor.login) %> <%= link_to editor.login, "/dashboard/#{editor.login}" %><% if editor.retired? %><% end %></td>
        <td><%= editor.category_list %></td>
        <td class="d-inline-block text-truncate" style="max-width:300px"><%= editor.description.html_safe %></td>
        <td><%= editor.kind %></td>
        <td><%= link_to 'Show', editor %></td>
        <td><%= link_to 'Edit', edit_editor_path(editor) %></td>
        <td><%= link_to 'Destroy', editor, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
      <%- end %>
    </tbody>
  </table>

  <div class="links">
    <%= link_to 'New Editor', new_editor_path %>
  </div>
</div>
